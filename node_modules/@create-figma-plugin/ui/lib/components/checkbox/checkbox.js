import { h } from "preact";
import { useCallback } from "preact/hooks";
import { createClassName } from "../../utilities/create-class-name.js";
import { IconControlCheckboxChecked12 } from "../icon/icon-12/icon-control-checkbox-checked-12.js";
import styles from "./checkbox.css";
export function Checkbox({ children, disabled = false, name, onChange = function () { }, onValueChange = function () { }, propagateEscapeKeyDown = true, value = false, ...rest }) {
    const handleChange = useCallback(function (event) {
        const newValue = event.currentTarget.checked;
        onValueChange(newValue, name);
        onChange(event);
    }, [name, onChange, onValueChange]);
    const handleKeyDown = useCallback(function (event) {
        if (event.key !== "Escape") {
            return;
        }
        if (propagateEscapeKeyDown === false) {
            event.stopPropagation();
        }
        event.currentTarget.blur();
    }, [propagateEscapeKeyDown]);
    return (h("label", { class: createClassName([
            styles.checkbox,
            disabled === true ? styles.disabled : null
        ]) }, h("input", { ...rest, checked: value === true, class: styles.input, disabled: disabled === true, name: name, onChange: handleChange, onKeyDown: handleKeyDown, tabIndex: disabled === true ? -1 : 0, type: "checkbox" }), h("div", { class: styles.fill }, value === true ? (h("div", { class: styles.checkIcon }, h(IconControlCheckboxChecked12, null))) : null), h("div", { class: styles.border }), h("div", { class: styles.children }, children)));
}
//# sourceMappingURL=checkbox.js.map